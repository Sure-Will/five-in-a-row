# 🎮 五子棋游戏 - 硕神 AI 挑战

> 一个部署在 GitHub Pages 的纯静态 HTML 五子棋游戏，搭载 VCF/VCT 威胁搜索算法的超强 AI

[![GitHub Pages](https://img.shields.io/badge/GitHub-Pages-blue?logo=github)](https://sure-will.github.io/five-in-a-row/)
[![HTML](https://img.shields.io/badge/HTML-Pure%20Static-orange?logo=html5)](./index.html)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

## 🌟 在线体验

### 👉 [点击这里开始挑战硕神 AI](https://sure-will.github.io/five-in-a-row/) 👈

**无需下载，无需安装，直接在浏览器中挑战！**

---

## ✨ 特色功能

### 🤖 硕神地狱模式 AI - 业界领先的五子棋算法

这不是普通的五子棋 AI。硕神地狱模式 AI 搭载了专业级算法：

- **🔥 VCF 求解器**（Victory by Continuous Four）
  - 搜索深度：**20 层**（地狱模式）
  - 能提前 10 个回合看到必杀序列
  - 识别活四/冲四的连续威胁攻击
  - 智能防守走法生成，优先选择反击点

- **⚡ VCT 求解器**（Victory by Continuous Threat）
  - 搜索深度：**15 层**（地狱模式）
  - 识别活三威胁序列
  - 智能组合多重威胁
  - 尝试前5个最强威胁走法

- **🧠 Minimax + Alpha-Beta 剪枝**
  - 搜索深度：**8 层**（地狱模式）
  - 迭代加深搜索（IDDFS）
  - 置换表优化
  - Zobrist 哈希

- **⚙️ Web Worker 多线程**
  - AI 在后台线程计算，界面不卡顿
  - 5 秒熔断保护，保证响应速度

### 🎯 游戏特性

- ✨ **精美界面**：渐变色棋子，木纹棋盘，天元星位标识
- ⏱️ **计时挑战**：实时计时，记录最佳成绩
- 💬 **AI 嘲讽**：硕神 AI 的专属嘲讽语录（对小强强和小辉辉）
- 🚫 **无悔棋**：真正的竞技模式，每步都要慎重
- ⏰ **5秒限时**：玩家每步最多 5 秒，超时自动随机落子
- 📱 **响应式设计**：支持桌面、平板、手机

### 🏆 挑战记录

- 硕神地狱模式最佳通关时间记录
- 自动保存在浏览器本地存储
- 打破记录时显示"传说诞生"提示

---

## 📖 游戏规则

1. **AI 先手**：硕神地狱模式 AI 执白棋，瞬间在天元落子
2. **你执黑棋**：点击棋盘空白处落子
3. **胜利条件**：先将五个棋子连成一线者获胜（横、竖、斜均可）
4. **限时对弈**：
   - 玩家第一步后，每步思考时间不超过 5 秒
   - 超时将强制随机落子
   - AI 每步思考上限 5 秒（VCF/VCT 通常 1-2 秒，Minimax 深度8 约 2-5 秒）
5. **无悔棋**：落子无悔，请三思而后行

---

## 💻 本地运行

如果你想在本地运行或二次开发：

### 方式一：直接下载

```bash
# 下载 index.html 文件
# 双击打开即可开始游戏
```

### 方式二：克隆仓库

```bash
git clone https://github.com/Sure-Will/five-in-a-row.git
cd five-in-a-row
# 双击打开 index.html 或使用本地服务器
```

### 方式三：使用本地服务器

```bash
# Python 3
python3 -m http.server 8000

# Node.js
npx http-server

# 然后访问 http://localhost:8000
```

**支持所有现代浏览器**：Chrome、Firefox、Safari、Edge

---

## 🏗️ 技术架构

### 纯前端技术栈

- **HTML5 Canvas**：绘制棋盘和棋子
- **原生 JavaScript**：无任何框架依赖
- **Web Worker**：多线程 AI 计算
- **LocalStorage**：保存最佳记录

### AI 算法架构

```
决策流程（按优先级 - 地狱模式）:
┌─────────────────────────────┐
│ 1️⃣ VCF 求解器（深度20）    │ ← 搜索活四/冲四必杀序列
└─────────────────────────────┘
          ↓ 未找到
┌─────────────────────────────┐
│ 2️⃣ VCT 求解器（深度15）    │ ← 搜索活三威胁序列
└─────────────────────────────┘
          ↓ 未找到
┌─────────────────────────────┐
│ 3️⃣ Minimax（深度8）        │ ← 传统启发式评估
└─────────────────────────────┘
```

### 核心优化

- ✅ **威胁模式识别**：精确识别活四、冲四、活三、眠三等 10+ 种模式
- ✅ **智能剪枝**：分支因子从 50 降至 5
- ✅ **智能防守**：优先选择能形成反击的防守点
- ✅ **置换表缓存**：避免重复计算
- ✅ **迭代加深**：逐步增加搜索深度
- ✅ **超时保护**：5 秒熔断机制

---

## 📊 AI 强度对比

| 场景 | 普通 Minimax | 硕神地狱模式 AI（VCF/VCT） |
|------|-------------|--------------------------|
| **活四局面** | 评分 1M，可能错过 | VCF 必杀（D20），100% 找到 |
| **冲四局面** | 评分 10K，容易漏 | VCF 必杀（D20），100% 找到 |
| **活三攻击** | 评分 50K，靠运气 | VCT 威胁序列（D15），稳定找到 |
| **搜索深度** | 6 层（~4 秒） | VCF 20层/VCT 15层/Minimax 8层 |
| **分支因子** | 20-50 个走法 | VCF/VCT 仅 1-5 个威胁 |
| **必杀距离** | 3 回合 | 10 回合（VCF）+ 7.5 回合（VCT）|

---

## 🎯 开发亮点

### 1. 证明式搜索

VCF/VCT 不是"猜测"最优解，而是**数学证明**必胜序列存在。

### 2. 极致剪枝

传统 Minimax 搜索所有合法走法，VCF/VCT 只搜索威胁和防守，性能提升 10 倍+。

### 3. 递归验证

确保对手的每个防守点都能被 AI 持续威胁，直到成五。

### 4. 无缝集成

VCF/VCT 作为前置检查器，失败后回退到 Minimax，保证 AI 永远有解。

---

## 📁 项目结构

```
five-in-a-row/
├── index.html          # 主游戏文件（包含所有逻辑）
├── README.md           # 项目说明
├── DEPLOY.md           # 部署指南
├── PAGES_GUIDE.md      # GitHub Pages 使用指南
└── PR_GUIDE.md         # 贡献指南
```

---

## 🚀 部署到 GitHub Pages

本项目已部署到 GitHub Pages，你也可以 Fork 后部署自己的版本：

1. **Fork 本仓库**
2. **进入仓库设置** → Pages
3. **选择分支** → `main` 或其他分支
4. **选择根目录** → `/root`
5. **保存** → 等待几分钟
6. **访问** → `https://你的用户名.github.io/five-in-a-row/`

详细步骤见 [DEPLOY.md](./DEPLOY.md) 或 [PAGES_GUIDE.md](./PAGES_GUIDE.md)

---

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

贡献指南请参考：[PR_GUIDE.md](./PR_GUIDE.md)

---

## 📜 许可证

MIT License - 自由使用、修改、分发

---

## 👨‍💻 作者

**开发于 2025 年**

感谢 Gemini 提供的 VCF/VCT 算法思路灵感 💡

---

## 🎮 开始挑战

准备好了吗？

👉 **[立即挑战硕神地狱模式 AI](https://sure-will.github.io/five-in-a-row/)** 👈

**⚠️ 警告**：地狱模式AI极度危险！
- VCF 深度 20 层，能看到 10 回合后的必杀
- VCT 深度 15 层，威胁序列无懈可击
- Minimax 深度 8 层，每步都是最优解
- **准备好接受绝望了吗？** 😈🔥

---

## 🌟 如果你喜欢这个项目

- ⭐ 给个 Star
- 🔀 Fork 一份
- 🐛 提交 Issue
- 💬 分享给朋友

**让更多人感受硕神地狱模式 AI 的恐怖！**
